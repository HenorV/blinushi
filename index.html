<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine Quiz</title>

  <style>
    :root { --pink:#ff5c8a; --bg:#fff6f8; }

    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--bg);
      text-align:center;
      padding: 28px 14px;
      overflow-x:hidden;
    }

    .card{
      background:#fff;
      max-width:520px;
      margin:0 auto;
      padding:26px 20px;
      border-radius:18px;
      box-shadow:0 12px 32px rgba(0,0,0,.12);
    }

    h2,h3{ margin:0 0 10px; }
    p{ margin:10px 0; line-height:1.35; }
    .muted{ opacity:.75; font-size:14px; }

    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:14px;
    }

    button{
      padding:12px 18px;
      border:0;
      border-radius:999px;
      cursor:pointer;
      font-size:16px;
      background:var(--pink);
      color:#fff;
    }

    .ghost{
      background:#fff;
      color:#222;
      border:1px solid rgba(0,0,0,.12);
    }

    .hidden{ display:none; }

    /* top-left nav button */
    .navBtn{
      position:fixed;
      top:14px;
      left:14px;
      z-index:1000;
      padding:8px 12px;
      font-size:14px;
      border-radius:999px;
      background:rgba(255,255,255,.92);
      border:1px solid rgba(0,0,0,.12);
      cursor:pointer;
    }
    .navBtn.hidden{ display:none; }

    /* floating hearts */
    .heart{
      position:fixed;
      bottom:-20px;
      font-size:18px;
      animation:floatUp 3.8s linear forwards;
      pointer-events:none;
    }

    @keyframes floatUp{
      from{ transform:translateY(0); opacity:.9; }
      to{ transform:translateY(-110vh); opacity:0; }
    }

    /* runaway button area */
    .runArea{
      position:relative;
      height:120px;
      margin-top:14px;
      border-radius:14px;
      border:1px dashed rgba(255,92,138,.35);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    #noBtn,#noBtn2{
      position:absolute;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%);
    }

    /* hug animation */
    .hugWrap{
      margin-top:16px;
      border:1px solid rgba(255,92,138,.18);
      border-radius:16px;
      padding:18px;
      display:grid;
      grid-template-columns:1fr 2fr 1fr;
      align-items:center;
    }

    .city{ text-align:center; font-weight:600; }

    .path{ position:relative; height:40px; }
    .line{
      position:absolute;
      top:50%;
      width:100%;
      height:4px;
      background:#ddd;
      transform:translateY(-50%);
      border-radius:999px;
    }

    .line::after{
      content:"";
      position:absolute;
      height:100%;
      width:0%;
      background:var(--pink);
      transition:width 2s ease;
    }

    .path.filled .line::after{ width:100%; }

    .packet{
      position:absolute;
      left:0;
      top:50%;
      transform:translate(-50%,-50%);
      font-size:26px;
      transition:left 2s ease;
    }

    textarea{
      width:100%;
      padding:12px;
      border-radius:14px;
      border:1px solid #ccc;
      font-size:16px;
    }
  </style>
</head>

<body>

<button id="navBtn" class="navBtn hidden" onclick="goBack()">‚Üê Back</button>

<!-- STEP 1 -->
<div class="card" id="step1">
  <h2>The Best Quiz You Have Ever Played!</h2>
  <p class="muted">Please answer honestly.</p>

  <p><strong>Q1: Cka eshte ma e shtire ne kete jete?</strong></p>
  <div class="row">
    <button onclick="q1a()">Fakti qe sjom ne Kosove</button>
    <button onclick="q1b()">Pretending this quiz isn‚Äôt cute</button>
  </div>
</div>

<div class="card hidden" id="step1a">
  <h3>Awwww :( I miss you too!</h3>
  <button onclick="showStep(2)">Next ‚ûù</button>
</div>

<div class="card hidden" id="step1b">
  <h3>Dmth qenka cute a?</h3>
  <button onclick="q1bYes()">Yes</button>
  <div class="runArea">
    <button id="noBtn2" class="ghost">No üôÉ</button>
  </div>
  <p id="q1bMsg"></p>
  <button id="q1bNext" class="hidden" onclick="showStep(2)">Next ‚ûù</button>
</div>

<!-- STEP 2 -->
<div class="card hidden" id="step2">
  <h3>Q2: Cka do ishte vibe nese isha kon aty?</h3>
  <div class="row">
    <button onclick="q2('Ufff, hopefully hugs included ü´†')">Calm & cozy</button>
    <button onclick="q2(`It's number 3, ajo ne Mitro ka qene 2.5 üòå`)">Mu shty a date 3 apo 4?</button>
    <button onclick="q2('I know right üòÑ')">Why is this cute?</button>
  </div>
</div>

<div class="card hidden" id="step2a">
  <p id="q2Msg"></p>
  <button onclick="showStep(3)">Next ‚ûù</button>
</div>

<!-- STEP 4 -->
<div class="card hidden" id="step4">
  <h3>Q3: Sa serioz po te duket ky quiz?</h3>
  <div class="row">
    <button onclick="q4('Research kombtare üî¨')">Shume serioz</button>
    <button onclick="q4('Perfect balance üòÖ')">Pak serioz</button>
    <button onclick="q4('Mission accomplished üòä')">Aspak, po po qeshi</button>
  </div>
</div>

<div class="card hidden" id="step4a">
  <p id="q4Msg"></p>
  <button onclick="showStep(5)">Next ‚ûù</button>
</div>

<!-- STEP 5 -->
<div class="card hidden" id="step5">
  <p><strong>Keq qe skom me ti pa pergjigjet, but I will feel them.</strong></p>
  <p>Do you want to send the poor guy a note?</p>

  <div class="row">
    <button onclick="showStep('5a')">Yes</button>
    <button class="ghost" onclick="goHug()">No</button>
  </div>
</div>

<div class="card hidden" id="step5a">
  <form id="noteForm" action="https://formspree.io/f/mreapdvn" method="POST">
    <textarea name="message" rows="4" placeholder="Write something‚Ä¶"></textarea>
    <button type="submit">Send</button>
  </form>
</div>

<!-- STEP 6 -->
<div class="card hidden" id="step6">
  <h3>Sending a virtual hug‚Ä¶ ü´Ç</h3>

  <div class="hugWrap">
    <div class="city">Berlin</div>
    <div class="path">
      <div class="line"></div>
      <div class="packet" id="hugPacket">üíõ</div>
    </div>
    <div class="city">Mitrovica</div>
  </div>

  <p id="hugStatus">Calibrating arms‚Ä¶</p>

  <div id="hugAfter" class="hidden">
    <p><strong>Hug delivered üíõ</strong></p>
    <button onclick="yesVal()">Yes üòÑ</button>
    <div class="runArea">
      <button id="noBtn" class="ghost">No üôÉ</button>
    </div>
  </div>
</div>

<script>
  let historyStack=[];

  function showStep(n){
    const current=document.querySelector('.card:not(.hidden)');
    if(current) historyStack.push(current.id);
    document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
    document.getElementById('step'+n).classList.remove('hidden');
    updateNav();
  }

  function goBack(){
    const prev=historyStack.pop();
    if(!prev) return;
    document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
    document.getElementById(prev).classList.remove('hidden');
    updateNav();
  }

  function updateNav(){
    const btn=document.getElementById('navBtn');
    if(historyStack.length){
      btn.textContent='‚Üê Back';
      btn.onclick=goBack;
      btn.classList.remove('hidden');
    }else btn.classList.add('hidden');
  }

  function q1a(){ showStep('1a'); }
  function q1b(){ showStep('1b'); }

  function q1bYes(){
    document.getElementById('q1bMsg').innerHTML="<strong>I knew it &lt;3</strong>";
    document.getElementById('q1bNext').classList.remove('hidden');
  }

  function q2(msg){
    document.getElementById('q2Msg').innerHTML="<strong>"+msg+"</strong>";
    showStep('2a');
  }

  function q4(msg){
    document.getElementById('q4Msg').innerHTML="<strong>"+msg+"</strong>";
    showStep('4a');
  }

  function goHug(){
    showStep(6);
    startHug();
  }

  function startHug(){
    const path=document.querySelector('.path');
    const packet=document.getElementById('hugPacket');
    path.classList.add('filled');
    packet.style.left='100%';

    setTimeout(()=>{
      document.getElementById('hugAfter').classList.remove('hidden');
      const btn=document.getElementById('navBtn');
      btn.textContent='‚Üª Reset quiz';
      btn.onclick=resetQuiz;
      btn.classList.remove('hidden');
    },2000);
  }

  function resetQuiz(){
    historyStack=[];
    document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
    document.getElementById('step1').classList.remove('hidden');
    document.getElementById('navBtn').classList.add('hidden');
  }

  function yesVal(){
    alert("Okay wow. That was cute üòÑ");
  }
</script>

</body>
</html>
